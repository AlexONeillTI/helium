import{j as e,a as c,F as W}from"./jsx-runtime-670450c2.js";import{c as v}from"./clsx.m-1229b3e0.js";import{r as n,R as q}from"./index-f1f749bf.js";import{u as D,a as F,S as L}from"./use-previous-fba43390.js";import{u as I}from"./useTranslation-622fecac.js";import{a as X,u as J}from"./use-on-click-outside-28da7c7f.js";import"./_commonjsHelpers-042e6b4d.js";import"./nonIterableRest-1390a7e0.js";const O=n.createContext(void 0),$=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),A=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})}),G=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})});function H(){const a=n.useRef(null),t=D(),d=F(t),[s,u]=n.useState(0),[p,k]=n.useState(!1),[m,b]=n.useState(void 0),o=n.useCallback((i,g)=>{if(a.current){const h=s+i,x=-h*100;a.current.style.transform=`translateX(${x}%)`,u(h),b(g)}},[s]),r=n.useCallback(()=>{a.current&&(a.current.style.transform="translateX(-0%)",u(0),k(!1),b(void 0))},[]),f=n.useCallback(()=>{k(i=>!i),p&&r()},[p]);return n.useEffect(()=>{const i=t===L.Small,g=d===L.Small;(g&&!i||!g&&i)&&r()},[t,d,r]),{scrollableRef:a,navigate:o,reset:r,isSmallScreen:t===L.Small,isExpanded:p,toggleExpand:f,currentMenuId:m}}const w=({children:a})=>{const{t}=I(),{scrollableRef:d,navigate:s,isSmallScreen:u,isExpanded:p,toggleExpand:k,currentMenuId:m}=H(),b=n.useMemo(()=>({navigate:s,isSmallScreen:u,currentMenuId:m}),[s,u,m]),o=v("flex flex-row items-center gap-x-1 h-8 leading-8 transition-colors ease-in-out duration-200 uppercase text-base font-bold",p?"text-gray-800":"text-link-hover");return e(O.Provider,{value:b,children:e("div",{className:"w-auto -ml-4 -mr-4 mt-0 mb-0 max-w-none",children:e("div",{className:"w-full relative pl-4 pr-4",children:c("nav",{className:"flex flex-col border-b border-solid border-gray-300 overflow-hidden md:overflow-visible",role:"navigation",children:[e("div",{className:"py-1 flex flex-row justify-center md:hidden bg-white",children:c("button",{className:o,onClick:k,children:[e("span",{children:t("mobile-menu-button")}),e("span",{className:"w-6 h-6",children:e($,{})})]})}),e("section",{ref:d,className:v("relative w-auto transition-all duration-300",u&&!p?"hidden":""),children:e("ul",{className:"flex-col flex-grow pb-4 md:pb-0 md:flex md:justify-start md:flex-row",children:n.Children.map(a,(r,f)=>n.cloneElement(r,{index:f}))})})]})})})})};w.displayName="NavigationBar";try{w.displayName="NavigationBar",w.__docgenInfo={description:"",displayName:"NavigationBar",props:{}}}catch{}function K(){const a=q.useContext(O);if(!a)throw new Error("Expected a Navigation Bar Context, but no such Context was found");return a}const T="bg-white",M=a=>v("py-2 md:py-0 px-3 hover:text-accent hover:font-semibold leading-5 md:whitespace-no-wrap block w-full",a?"text-link-hover text-xs font-normal text-left":"text-accent md:text-link-hover hover:text-accent text-sm md:text-xs font-semibold md:font-normal uppercase"),Q=({label:a,href:t,linkOpenInNewTab:d})=>{const s={href:t};return d&&(s.target="_blank"),e("li",{className:T,children:e("a",{...s,className:M(),children:a})})},l=({index:a,label:t,href:d,linkOpenInNewTab:s,children:u})=>{const{t:p}=I(),[k,m]=n.useState(!1),b=n.createRef(),{isSmallScreen:o,navigate:r,currentMenuId:f}=K(),i=`navbar-link-${a}`,h=n.Children.count(u)>0,x={href:d};s&&(x.target="_blank");const R=n.useCallback(N=>{N.preventDefault(),m(!0),o&&r(1,i)},[o,r,i]),j=n.useCallback(N=>{N.preventDefault(),m(!1),r(-1)},[r]),C=n.useCallback(()=>{o||m(!1)},[o]);X(b,C),J("resize",C),n.useEffect(()=>{f!==i&&m(!1)},[f,i]);const z="static md:relative bg-white px-4",V="absolute top-0 md:top-auto left-full md:left-0 w-full md:w-auto z-50 border-none divide-y-none md:border md:border-solid md:border-black md:divide-y md:divide-black",P=k?"visible":"invisible",B="font-semibold uppercase text-sm leading-6 flex items-center justify-between md:justify-start gap-x-2 text-accent hover:text-link-hover py-3 md:py-0";return c("li",{className:z,ref:b,children:[h&&c(W,{children:[c("button",{className:v(B,"w-full"),onClick:R,children:[t,c("span",{className:"w-3 h-3 text-link-hover",children:[o&&e(G,{}),!o&&e(A,{})]})]}),c("ul",{className:v(V,P),children:[e("li",{className:v(T,"md:hidden"),children:e("button",{className:M(!0),onClick:j,children:p("mobile-back-button")})}),u]})]}),!h&&e("a",{...x,className:B,children:t})]})};l.displayName="NavigationBarLink";l.SubLink=Q;try{l.displayName="NavigationBarLink",l.__docgenInfo={description:"",displayName:"NavigationBarLink",props:{index:{defaultValue:null,description:"index of menu link",name:"index",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"list of sub links",name:"children",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>> | ReactElement<any, string | JSXElementConstructor<any>>[]"}},label:{defaultValue:null,description:"label for navigation bar link",name:"label",required:!0,type:{name:"string"}},href:{defaultValue:null,description:"url for link",name:"href",required:!1,type:{name:"string"}},linkOpenInNewTab:{defaultValue:null,description:"open link in new tab for link",name:"linkOpenInNewTab",required:!1,type:{name:"boolean"}}}}}catch{}const re={component:w,title:"Packages/Navigation Bar"},S={render:()=>c(w,{children:[c(l,{label:"Link 1",children:[e(l.SubLink,{label:"Sub link 1-1",href:"/sublink-1-1",linkOpenInNewTab:!0}),e(l.SubLink,{label:"Sub link 1-2",href:"/sublink-1-2"})]}),e(l,{label:"Link 2",href:"/link-2",linkOpenInNewTab:!0}),c(l,{label:"Link 3",children:[e(l.SubLink,{label:"Sub link 3-1",href:"/sublink-3-1",linkOpenInNewTab:!0}),e(l.SubLink,{label:"Sub link 3-2",href:"/sublink-3-2"})]}),e(l,{label:"Link 4",href:"/link-4"})]})};var y,_,E;S.parameters={...S.parameters,docs:{...(y=S.parameters)==null?void 0:y.docs,source:{originalSource:`{
  render: () => <NavigationBar>
      <NavigationBarLink label="Link 1">
        <NavigationBarLink.SubLink label="Sub link 1-1" href="/sublink-1-1" linkOpenInNewTab />
        <NavigationBarLink.SubLink label="Sub link 1-2" href="/sublink-1-2" />
      </NavigationBarLink>
      <NavigationBarLink label="Link 2" href="/link-2" linkOpenInNewTab />
      <NavigationBarLink label="Link 3">
        <NavigationBarLink.SubLink label="Sub link 3-1" href="/sublink-3-1" linkOpenInNewTab />
        <NavigationBarLink.SubLink label="Sub link 3-2" href="/sublink-3-2" />
      </NavigationBarLink>
      <NavigationBarLink label="Link 4" href="/link-4" />
    </NavigationBar>
}`,...(E=(_=S.parameters)==null?void 0:_.docs)==null?void 0:E.source}}};const ie=["Base"];export{S as Base,ie as __namedExportsOrder,re as default};
//# sourceMappingURL=NavigationBar.stories-0f4f4f7a.js.map
