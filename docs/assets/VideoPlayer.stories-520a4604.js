import{a as c,b as V}from"./jsx-runtime-9707e85d.js";import{r as d}from"./index-e0ddb630.js";import{L as b}from"./course-run-ffe2e63c.js";import"./_commonjsHelpers-87174ba5.js";import"./ApolloContext-744973fc.js";import"./printer-283319ec.js";import"./parser-170a9164.js";function P(t){const[r,n]=d.useState(t?"loading":"idle");return d.useEffect(()=>{if(!t){n("idle");return}let e=document.querySelector(`script[src="${t}"]`);if(e)n("loading");else{e=document.createElement("script"),e.src=t,e.async=!0,e.setAttribute("data-status","loading"),document.body.appendChild(e);const a=s=>{e.setAttribute("data-status",s.type==="load"?"ready":"error")};e.addEventListener("load",a),e.addEventListener("error",a)}const o=a=>{n(a.type==="load"?"ready":"error")};return e.addEventListener("load",o),e.addEventListener("error",o),()=>{e&&(e.removeEventListener("load",o),e.removeEventListener("error",o))}},[t]),r}const N="https://fast.wistia.com/assets/external/E-v1.js",q="wistia-player-",i=t=>{const{asset:r,playerColor:n,userId:e,doNotTrack:o}=t,a=`${q}${r}`,[s,h]=d.useState(),[C,x]=d.useState(!0),m=P(N);d.useEffect(()=>{m==="ready"&&(window._wq=window._wq||[],window._wq.push({id:r,options:{controlsVisibleOnLoad:!0,videoFoam:!0,playerColor:n,container:a,wmode:"opaque",email:e,doNotTrack:!!o,volumeControl:!0,plugin:{},fitStrategy:"cover"},onReady:l=>{x(!1),h(l)}}))},[m,r,n,e,o,a]),d.useEffect(()=>{const l=`video-${r}`;if(s){const L=f=>{parseInt(f)+5>s.duration()?localStorage.removeItem(l):localStorage.setItem(l,f)},y=localStorage.getItem(l);y&&s.time(y),s.bind("secondchange",L)}},[s,r]);const I=`wistia_embed wistia_async_${r}`;return c("div",{className:"flex flex-col items-center w-full",children:V("div",{className:"w-4/5 md:w-[850px] px-4",children:[C&&c(b,{}),c("div",{id:a,className:I},r)]})})};i.displayName="VideoPlayer";try{i.displayName="VideoPlayer",i.__docgenInfo={description:"",displayName:"VideoPlayer",props:{asset:{defaultValue:null,description:"ID of Wistia Asset to be embedded",name:"asset",required:!0,type:{name:"string"}},playerColor:{defaultValue:null,description:"hex code of player color",name:"playerColor",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"id of user to associate with view",name:"userId",required:!1,type:{name:"string"}},doNotTrack:{defaultValue:null,description:"controls whether the view is tracked",name:"doNotTrack",required:!1,type:{name:"boolean"}}}}}catch{}const F={component:i,title:"Packages/Video Player"},u={render:t=>c(i,{...t}),args:{asset:"o8p3hzwdmj",playerColor:"#C1E1C1"}},p={render:t=>c(i,{...t}),args:{asset:"3ezt7m1tx1",playerColor:"#A7C7E7"}};var g,w,v;u.parameters={...u.parameters,docs:{...(g=u.parameters)==null?void 0:g.docs,source:{originalSource:`{
  render: args => <VideoPlayer {...args} />,
  args: {
    asset: 'o8p3hzwdmj',
    playerColor: '#C1E1C1'
  }
}`,...(v=(w=u.parameters)==null?void 0:w.docs)==null?void 0:v.source}}};var E,_,S;p.parameters={...p.parameters,docs:{...(E=p.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: args => <VideoPlayer {...args} />,
  args: {
    asset: '3ezt7m1tx1',
    playerColor: '#A7C7E7'
  }
}`,...(S=(_=p.parameters)==null?void 0:_.docs)==null?void 0:S.source}}};const R=["Base","Alternate"];export{p as Alternate,u as Base,R as __namedExportsOrder,F as default};
//# sourceMappingURL=VideoPlayer.stories-520a4604.js.map
