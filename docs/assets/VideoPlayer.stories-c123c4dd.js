import{j as c,a as V}from"./jsx-runtime-b91f6123.js";import{r as d}from"./index-64f120e9.js";import{L as P}from"./course-run-b6de0228.js";import"./tslib.es6-14bf6d9f.js";import"./ApolloContext-92c8f557.js";function b(t){const[r,n]=d.useState(t?"loading":"idle");return d.useEffect(()=>{if(!t){n("idle");return}let e=document.querySelector(`script[src="${t}"]`);if(e)n("loading");else{e=document.createElement("script"),e.src=t,e.async=!0,e.setAttribute("data-status","loading"),document.body.appendChild(e);const a=o=>{e.setAttribute("data-status",o.type==="load"?"ready":"error")};e.addEventListener("load",a),e.addEventListener("error",a)}const s=a=>{n(a.type==="load"?"ready":"error")};return e.addEventListener("load",s),e.addEventListener("error",s),()=>{e&&(e.removeEventListener("load",s),e.removeEventListener("error",s))}},[t]),r}const N="https://fast.wistia.com/assets/external/E-v1.js",q="wistia-player-",i=t=>{const{asset:r,playerColor:n,userId:e,doNotTrack:s}=t,a=`${q}${r}`,[o,h]=d.useState(),[C,x]=d.useState(!0),m=b(N);d.useEffect(()=>{m==="ready"&&(window._wq=window._wq||[],window._wq.push({id:r,options:{controlsVisibleOnLoad:!0,videoFoam:!0,playerColor:n,container:a,wmode:"opaque",email:e,doNotTrack:!!s,volumeControl:!0,plugin:{},fitStrategy:"cover"},onReady:l=>{x(!1),h(l)}}))},[m,r,n,e,s,a]),d.useEffect(()=>{const l=`video-${r}`;if(o){const L=f=>{parseInt(f)+5>o.duration()?localStorage.removeItem(l):localStorage.setItem(l,f)},y=localStorage.getItem(l);y&&o.time(y),o.bind("secondchange",L)}},[o,r]);const I=`wistia_embed wistia_async_${r}`;return c("div",{className:"flex flex-col items-center w-full",children:V("div",{className:"w-4/5 md:w-[850px] px-4",children:[C&&c(P,{}),c("div",{id:a,className:I},r)]})})};i.displayName="VideoPlayer";try{i.displayName="VideoPlayer",i.__docgenInfo={description:"",displayName:"VideoPlayer",props:{asset:{defaultValue:null,description:"ID of Wistia Asset to be embedded",name:"asset",required:!0,type:{name:"string"}},playerColor:{defaultValue:null,description:"hex code of player color",name:"playerColor",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"id of user to associate with view",name:"userId",required:!1,type:{name:"string"}},doNotTrack:{defaultValue:null,description:"controls whether the view is tracked",name:"doNotTrack",required:!1,type:{name:"boolean"}}}}}catch{}const z={component:i,title:"Packages/Video Player"},u={render:t=>c(i,{...t}),args:{asset:"o8p3hzwdmj",playerColor:"#C1E1C1"}},p={render:t=>c(i,{...t}),args:{asset:"3ezt7m1tx1",playerColor:"#A7C7E7"}};var g,w,v;u.parameters={...u.parameters,docs:{...(g=u.parameters)==null?void 0:g.docs,source:{originalSource:`{
  render: args => <VideoPlayer {...args} />,
  args: {
    asset: 'o8p3hzwdmj',
    playerColor: '#C1E1C1'
  }
}`,...(v=(w=u.parameters)==null?void 0:w.docs)==null?void 0:v.source}}};var E,_,S;p.parameters={...p.parameters,docs:{...(E=p.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: args => <VideoPlayer {...args} />,
  args: {
    asset: '3ezt7m1tx1',
    playerColor: '#A7C7E7'
  }
}`,...(S=(_=p.parameters)==null?void 0:_.docs)==null?void 0:S.source}}};const D=["Base","Alternate"];export{p as Alternate,u as Base,D as __namedExportsOrder,z as default};
//# sourceMappingURL=VideoPlayer.stories-c123c4dd.js.map
